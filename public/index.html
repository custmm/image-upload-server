<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í›„ìš±ìŠˆìš±</title>
    <link rel="stylesheet" href="style.css">
    <style>
    html, body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        height: 100%;
    }
    body{
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
    }
    .glow-circle {
        position: absolute;
        width: 50px;
        height: 50px;
        background-color: #cbcbcbe8;
        border-radius: 50%;
        filter: blur(10px);
        animation: pulse 3s infinite alternate ease-in-out;
        cursor: pointer;
    }
    @keyframes pulse {
        0% { 
            transform: scale(1); 
            opacity: 0.5; 
        }
        100% { 
            transform: scale(1.3); 
            opacity: 0.2; 
        }
    }
    /* ì œëª©ê³¼ ì»¨í…Œì´ë„ˆë¥¼ ê°ì‹¸ëŠ” ë¶€ëª¨ ìš”ì†Œ */
    .container {
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    /* ì œëª© ìŠ¤íƒ€ì¼ */
    h1 {
        font-size: 36px;
        margin-bottom: 20px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    .glow-effect {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 1) 100%);
        animation: glowAnimation 2.0s ease-in-out infinite alternate;
        pointer-events: none;
        z-index: 9999;
    }

    @keyframes glowAnimation {
        0% { 
            opacity: 0.5; 
        }
        100% { 
            opacity: 0.1; 
        }
    }
    /* ë²„íŠ¼ì„ ê°ì‹¸ëŠ” ì»¨í…Œì´ë„ˆ */
    .button_container {
        position: relative;
        background-color: #f1f1f1;
        width: 300px;  /* ì ì ˆí•œ ë„ˆë¹„ ì„¤ì • */
        height: 200px; /* ì ì ˆí•œ ë†’ì´ ì„¤ì • */
        padding: 20px;
        display: flex;
        justify-content: space-around;
        justify-content: center;
        align-items: center;
        border-radius: 8px;
        border: 5px solid #0066cc;
        gap: 15px;
        margin: 0 auto;
    }
    #modeSelection {
        position: relative;
        padding: 20px;
        background-color: #fff;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        border-radius: 10px;
    } 
    #adminModeButton {
        background: #ff0000;
        color: white; 
        display: none; /* ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€ */
    }
    #adminModeButton:hover {
        background: #cca000;
    }
    #userModeButton {
        background: rgba(0, 0, 0, 0.75);
        color: white;
    }
    #userModeButton:hover {
        background: rgba(128, 128, 128, 0.348);
    } 
    button {
        width: 200px;
        margin: 10px auto;
        padding: 15px;
        font-size: 16px;
        border-radius: 5px;
        cursor: pointer;
        text-align: center;
        white-space: nowrap;
        transition: background-color 0.3s;
    }

    button:hover {
        background-color: #755a6a;
        animation: pulse 0.5s ease-in-out infinite;
    }
    
    canvas {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none; /* ìº”ë²„ìŠ¤ê°€ í´ë¦­ì„ ë°©í•´í•˜ì§€ ì•Šë„ë¡ ì„¤ì • */
    }

     /* ë¬¸ ì• ë‹ˆë©”ì´ì…˜ */
     #door-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: none; /* ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€ */
        z-index: 10;
    }
    .door {
        position: absolute;
        width: 50%;
        height: 100%;
        background-color: #555;
        border: 2px solid #333;
        transition: transform 2s ease-in-out;
    }
    .door.left {
        left: 0;
        transform-origin: left center; /* Left edge for right door */
        transform: rotateY(0deg); /* ì´ˆê¸° ìƒíƒœ */
        transition: transform 2s ease-in-out;
    }
    .door.right {
        right: 0;
        transform-origin: right center; /* Right edge for left door */
        transform: rotateY(0deg); /* ì´ˆê¸° ìƒíƒœ */
        transition: transform 2s ease-in-out;
    }
    .firework {
        position: absolute;
        pointer-events: none;
    }
    .particle {
        position: absolute;
        width: 10px;
        height: 10px;
        border-radius: 20% 50% 50% 20%;
        background-color: red;
        animation: explode 1.5s forwards;
        transform-origin: center;
    }
    @keyframes explode {
        from {
            transform: translate(0, 0) rotate(0);
            opacity: 1;
        }
        to {
            transform: translate(var(--translate-x), var(--translate-y)) rotate(720deg);
            opacity: 0;
        }
    }

    @keyframes fadeOut {
        to {
            opacity: 0;
        }
    }
    @keyframes pulse {
        0% {
            transform: scale(1);
        }
        50% {
            transform: scale(1.2); /* 10% í™•ëŒ€ */
        }
        100% {
            transform: scale(1);
        }
    }
    @media (max-width: 768px) {
  /* body ì—¬ë°±ì´ë‚˜ í¬ê¸° ì¡°ì • (í•„ìš”ì— ë”°ë¼) */
  body {
    padding: 10px;
  }


  /* ì œëª©ì˜ í¬ê¸°ë¥¼ ì¤„ì„ */
  h1 {
    font-size: 28px;
    margin-bottom: 10px;
  }
  .container{
    width: 85%;
    height: 85%;
    align-items: center;
  }

  /* ìº”ë²„ìŠ¤ê°€ í™”ë©´ì„ ê½‰ ì±„ìš°ëŠ” ëŒ€ì‹  ëª¨ë°”ì¼ì— ë§ê²Œ ì¡°ì • */
  canvas {
    /* ëª¨ë°”ì¼ì—ì„œëŠ” ì ˆëŒ€ ìœ„ì¹˜ê°€ ì•„ë‹Œ ìƒëŒ€ì ì¸ ë„ˆë¹„/ë†’ì´ ì ìš© */
    width: 100%;
    height: auto;
  }

  /* ì¶”ê°€ì ìœ¼ë¡œ í•„ìš”í•œ ê²½ìš° ë‹¤ë¥¸ ìš”ì†Œë“¤ì—ë„ ë¯¸ë””ì–´ ì¿¼ë¦¬ë¡œ ì¡°ì • */
  /* ì˜ˆì‹œ: glow-circleì˜ í¬ê¸° ê°ì†Œ */
  .glow-circle {
    width: 40px;
    height: 40px;
    filter: blur(8px);
  }
}
    </style>    
</head>
<body>
    <div id="door-container">
        <div class="door left"></div>
        <div class="door right"></div>
    </div>
    <div class="container">
    <h1 id="mainTitle">ëˆ„êµ¬ì„¸ìš©?</h1>
        <div id="modeSelection" class="button_container">
            <button id="adminModeButton">ê´€ë¦¬ì</button>
            <button id="userModeButton">ì¼ë°˜ ì‚¬ìš©ì</button> 
        </div>                   
    </div>
    <audio id="fireworkAudio" src="sounds/firework.mp3" preload="auto" type="audio/mp3"></audio>
    <audio id="easterEggAudio" src="sounds/ester_egg.mp3" preload="auto" type="audio/mp3"></audio>
            <div id="easterEggMessage" style="display: none;">
            <p>ì´ìŠ¤í„°ì—ê·¸ê°€ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤!</p>
        </div>
    <canvas id="fireworksCanvas"></canvas>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const body = document.body;
        const adminModeButton = document.getElementById("adminModeButton");
        const userModeButton = document.getElementById("userModeButton");
        const doorContainer = document.getElementById("door-container");
        const leftDoor = document.querySelector(".door.left");
        const rightDoor = document.querySelector(".door.right");
        const modeSelection = document.getElementById("modeSelection");
        const mainTitle = document.getElementById("mainTitle");
        const glowCircles = document.querySelectorAll(".glow-circle");
        const container = document.getElementById("container");
        const audio = document.getElementById("easterEggAudio");
        const audio2 = document.getElementById("fireworkAudio");

        let globalClickCount = 0;
        let glowClickCount = 0;
        let clickedCircles = [];
        const totalGlowClicksNeeded = 5;
        let isPopupOpen = false;  // âœ… íŒì—… ìƒíƒœ ë³€ìˆ˜ ì¶”ê°€
    
        /* ---------------- ë¬¸ ì—´ê¸° + í˜ì´ì§€ ì´ë™ ---------------- */
        function openDoorAndRedirect(url) {
            doorContainer.style.display = "flex";
            setTimeout(() => {
                    leftDoor.style.transform = "rotateY(90deg)"; // ì™¼ìª½ ë¬¸ ì—´ê¸°
                    rightDoor.style.transform = "rotateY(-90deg)"; // ì˜¤ë¥¸ìª½ ë¬¸ ì—´ê¸°
            }, 50); // DOM ë Œë”ë§ ì‹œê°„ì„ í™•ë³´ (50ms)

            // 1ì´ˆ í›„ í˜ì´ì§€ ì´ë™
            setTimeout(() => {
                window.location.href = url;
            }, 1000);
        }
        // ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ì„¤ì • (ì¡´ì¬í•  ê²½ìš°ì—ë§Œ)
        if(adminModeButton) {
            adminModeButton.addEventListener("click", () => {
                openDoorAndRedirect("admin-login.html");
            });
        }
        if(userModeButton) {
            userModeButton.addEventListener("click", () => {
                openDoorAndRedirect("preview.html");
            });
        }
    
        /* ---------------- ì´ìŠ¤í„°ì—ê·¸ í™œì„±í™” ---------------- */
        function showPopup(message,imageUrl,callback) {
            if (isPopupOpen) return;  // âœ… íŒì—…ì´ ì—´ë ¤ ìˆìœ¼ë©´ ì‹¤í–‰ ì¤‘ë‹¨
            isPopupOpen = true;  // âœ… íŒì—… ì—´ë¦¼ ìƒíƒœë¡œ ë³€ê²½

            // íŒì—… ì˜¤ë²„ë ˆì´(ë°°ê²½ ì»¨í…Œì´ë„ˆ) ìƒì„±
            const overlay = document.createElement("div");
            overlay.style.position = "fixed";
            overlay.style.top = "0";
            overlay.style.left = "0";
            overlay.style.width = "100%";
            overlay.style.height = "100%";
            overlay.style.backgroundColor = "rgba(0, 0, 0, 0.5)";
            overlay.style.display = "flex";
            overlay.style.alignItems = "center";
            overlay.style.justifyContent = "center";
            overlay.style.zIndex = "1500";
    
            // íŒì—… ë©”ì‹œì§€ ì»¨í…Œì´ë„ˆ ìƒì„± (ì˜¤ë²„ë ˆì´ ë‚´ë¶€ì— ìœ„ì¹˜)
            const popup = document.createElement("div");
            popup.style.backgroundColor = "white";
            popup.style.color = "#000";
            popup.style.padding = "20px";
            popup.style.borderRadius = "5px";
            popup.style.textAlign = "center";
            popup.style.width = "350px";
            popup.style.height = "flex";

                // ì´ë¯¸ì§€ URLì´ ì „ë‹¬ë˜ë©´ ì´ë¯¸ì§€ ìš”ì†Œ ìƒì„± ë° ì¶”ê°€
            if (imageUrl) {
                const imageEl = document.createElement("img");
                imageEl.src = imageUrl;
                imageEl.style.width = "flex";
                imageEl.style.maxHeight = "200px";
                imageEl.style.marginTop = "10px";
                popup.appendChild(imageEl);
            }

            // ë©”ì‹œì§€ ìš”ì†Œ ìƒì„±
            const messageEl = document.createElement("p");
            messageEl.textContent = message;
            popup.appendChild(messageEl);
    
            // í™•ì¸ ë²„íŠ¼ ìƒì„± (íŒì—… ì»¨í…Œì´ë„ˆ ì•ˆìœ¼ë¡œ ë„£ìŒ)
            const confirmButton = document.createElement("button");
            confirmButton.textContent = "í™•ì¸";
            confirmButton.style.padding = "10px 20px";
            confirmButton.style.marginTop = "10px";

            confirmButton.addEventListener("click", () => {
                console.log("âœ… íŒì—… í™•ì¸ ë²„íŠ¼ í´ë¦­ë¨");  // í™•ì¸ ë¡œê·¸
                overlay.remove();
                isPopupOpen = false;  // âœ… íŒì—… ë‹«í˜ ìƒíƒœë¡œ ë³€ê²½
                if (callback) {
                    console.log("âœ… triggerEasterEgg() ì‹¤í–‰");  // í™•ì¸ ë¡œê·¸
                    callback(); // ì½œë°± í•¨ìˆ˜ ì‹¤í–‰
                }
            });
            popup.appendChild(confirmButton);
    
            // íŒì—… ì»¨í…Œì´ë„ˆë¥¼ ì˜¤ë²„ë ˆì´ì— ì¶”ê°€
            overlay.appendChild(popup);
    
            // ì˜¤ë²„ë ˆì´ë¥¼ ë¬¸ì„œì— ì¶”ê°€í•˜ì—¬ í‘œì‹œ
            document.body.appendChild(overlay);
        }       

    body.addEventListener("click", (event) => {
    // modeSelectionì´ ì¡´ì¬í•˜ê³  í•´ë‹¹ ì˜ì—­ ë‚´ë¶€ í´ë¦­ì´ë©´ ì‹¤í–‰ ì¤‘ë‹¨
    if (isPopupOpen) return;  // âœ… íŒì—…ì´ ì—´ë ¤ìˆìœ¼ë©´ í´ë¦­ ì¹´ìš´íŠ¸ ì¦ê°€ X
    if (modeSelection.contains(event.target) || event.target.classList.contains("glow-circle")) return;

    const x = event.clientX;
    const y = event.clientY;
    createFirework(x, y);
    playFireworkSound(); // ë¶ˆê½ƒë†€ì´ ì†Œë¦¬ ì¬ìƒ

    globalClickCount++;

    // í´ë¦­ íšŸìˆ˜ë³„ ì´ë²¤íŠ¸
    const clickEventsData = {
        4: { 
            color: "rgb(205,154,154)", 
            message: "ì´ìƒê¸°ìš´ì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤!", 
            imageUrl:"images/ester_01.png",
            easterEgg: true
        },
        44: { 
            color: "rgb(217,115,115)", 
            message: "ì¡°ê¸ˆ ë” í´ë¦­í•´ë³´ì„¸ìš”", 
            imageUrl:"images/ester_02.png",
            easterEgg: true
        },
        100: { 
            color: "rgb(230,77,77)", 
            message: "ëˆ„êµ¬ì„¸ìš©ëˆ„êµ¬ì„¸ìš©ëˆ„êµ¬ì„¸ìš©ëˆ„êµ¬ì„¸ìš©ëˆ„êµ¬ì„¸ìš©ëˆ„êµ¬ì„¸ìš©ëˆ„êµ¬ì„¸ìš©ëˆ„êµ¬ì„¸ìš©ëˆ„êµ¬ì„¸ìš©ëˆ„êµ¬ì„¸ìš©ëˆ„êµ¬ì„¸ìš©ëˆ„êµ¬ì„¸ìš©ëˆ„êµ¬ì„¸ìš©ëˆ„êµ¬ì„¸ìš©ëˆ„êµ¬ì„¸ìš©ëˆ„êµ¬ì„¸ìš©ëˆ„êµ¬ì„¸ìš©ëˆ„êµ¬ì„¸ìš©ëˆ„êµ¬ì„¸ìš©ëˆ„êµ¬ì„¸ìš©", 
            imageUrl:"images/ester_03.png",
            easterEgg: true
        },
        222: { 
            color: "rgb(242,38,38)", 
            message: "ë§ì´ ì‹¬ì‹¬í•˜ì‹ ê°€ë´ìš”", 
            imageUrl:"images/ester_04.png",
            easterEgg: true
        },
        444: { 
            color: "#ff0000", 
            message: "ê³§ ì¬ë°ŒëŠ” ì¼ì´ ì¼ì–´ë‚©ë‹ˆë‹¤", 
            imageUrl:"images/ester_05.png",
            easterEgg: true
        }
    };

    // clickEventsDataì— í•´ë‹¹í•˜ëŠ” í´ë¦­ íšŸìˆ˜ì¼ ë•Œ ì‹¤í–‰
    if (clickEventsData[globalClickCount]) {
    document.body.style.backgroundColor = clickEventsData[globalClickCount].color;

    console.log("ğŸ” í´ë¦­ íšŸìˆ˜:", globalClickCount);
    console.log("ğŸ” clickEventsData ì¡´ì¬ ì—¬ë¶€:", clickEventsData[globalClickCount]);
    console.log("ğŸ” ì´ìŠ¤í„°ì—ê·¸ ì†ì„± ì—¬ë¶€:", clickEventsData[globalClickCount]?.easterEgg);

    showPopup(
        clickEventsData[globalClickCount].message,
        clickEventsData[globalClickCount].imageUrl,
        () => {
            // âœ… ì¡´ì¬ ì—¬ë¶€ ì²´í¬ í›„ ì‹¤í–‰ (ì˜¤ë¥˜ ë°©ì§€)
            if (globalClickCount === 444) {
                console.log("ğŸ‰ ì´ìŠ¤í„°ì—ê·¸ ì¡°ê±´ ì¶©ì¡±! triggerEasterEgg() ì‹¤í–‰");
                globalClickCount = 444;  // âœ… ë” ì´ìƒ ì¦ê°€í•˜ì§€ ì•Šë„ë¡ ê³ ì •
                triggerEasterEgg();
            } else {
                console.log(`âŒ ${globalClickCount}íšŒ í´ë¦­í–ˆì§€ë§Œ, ì´ìŠ¤í„°ì—ê·¸ ì‹¤í–‰ ì¡°ê±´ ë¶ˆì¶©ì¡±`);
            }
        }
    );
}
});
// âœ… ì´ìŠ¤í„°ì—ê·¸ ì‹¤í–‰ í•¨ìˆ˜
function triggerEasterEgg() {
    console.log("ğŸ”¥ ì´ìŠ¤í„°ì—ê·¸ ì‹œì‘!");

    // âœ… ëª¨ë“  ìš”ì†Œ ì‚­ì œ
    document.querySelectorAll(".glow-circle").forEach(circle => circle.remove());
    if (document.getElementById("container")) document.getElementById("container").remove();
    if (document.getElementById("modeSelection")) document.getElementById("modeSelection").remove();
    if (document.getElementById("mainTitle")) document.getElementById("mainTitle").remove();

    // âœ… ì˜¤ë””ì˜¤ ìš”ì†Œ í™•ì¸
    console.log("ğŸµ ì˜¤ë””ì˜¤ ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°...");
    const audio = document.getElementById("easterEggAudio");

    if (!audio) {
        console.error("âŒ ì˜¤ë””ì˜¤ ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. `id=easterEggAudio` í™•ì¸ í•„ìš”!");
        return;
    }

    // âœ… ì˜¤ë””ì˜¤ ë¬´í•œ ë°˜ë³µ ì¬ìƒ
    console.log("ğŸµ ì˜¤ë””ì˜¤ ì¬ìƒ ì‹œë„");
    audio.loop = true;
    audio.play()
        .then(() => console.log("âœ… ì˜¤ë””ì˜¤ ì¬ìƒ ì‹œì‘"))
        .catch(error => console.error("ğŸš¨ ì˜¤ë””ì˜¤ ì¬ìƒ ì˜¤ë¥˜:", error));
}


    /* ---------------- ì´ìŠ¤í„°ì—ê·¸ + ë¶ˆê½ƒë†€ì´ + ë°°ê²½ìƒ‰ ë³€ê²½ ---------------- */
        const overlayText = document.createElement("div");
        const canvas = document.getElementById("fireworksCanvas");
        const button = document.getElementById("mainButton");
    
        // ìº”ë²„ìŠ¤ í¬ê¸° ì„¤ì •
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        // ì´ˆê¸° ë°°ê²½ìƒ‰ ì„¤ì •
        document.body.style.backgroundColor = "#c0c0c0";
        
        function createFirework(x, y) {
            const fireworkContainer = document.createElement("div");
            fireworkContainer.classList.add("firework");
            fireworkContainer.style.left = `${x}px`;
            fireworkContainer.style.top = `${y}px`;
            body.appendChild(fireworkContainer);
    
            for (let i = 0; i < 100; i++) {
                const particle = document.createElement("div");
                particle.classList.add("particle");
                fireworkContainer.appendChild(particle);
    
                const angle = Math.random() * 360;
                const distance = Math.random() * 200;
                const size = Math.random() * 10 + 5;
                const color = `hsl(${Math.random() * 360}, 100%, 50%)`;
    
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.backgroundColor = color;
                particle.style.setProperty('--translate-x', `${distance * Math.cos(angle * (Math.PI / 180))}px`);
                particle.style.setProperty('--translate-y', `${distance * Math.sin(angle * (Math.PI / 180))}px`);
            }
    
            setTimeout(() => fireworkContainer.remove(), 1500);
        }
    function playFireworkSound() {
        audio2.currentTime = 0;
        audio2.play();
    }
    function createCircles() {
        const numCircles = 5;
        const minViewport = Math.min(window.innerWidth, window.innerHeight);
        const radius = Math.min(window.innerWidth, window.innerHeight) * 0.35;  // í™”ë©´ í¬ê¸°ì— ë¹„ë¡€í•œ ë°˜ì§€ë¦„

        const centerX = window.innerWidth / 2;
        const centerY = window.innerHeight / 2;

        document.querySelectorAll(".glow-circle").forEach(circle => circle.remove());

        for (let i = 0; i < numCircles; i++) {
            const angle = (i * 72) * (Math.PI / 180);
            const x = centerX + radius * Math.cos(angle) - 25;
            const y = centerY + radius * Math.sin(angle) - 25;

            const circle = document.createElement("div");
            circle.classList.add("glow-circle");
            circle.style.left = `${x}px`;
            circle.style.top = `${y}px`;
            circle.dataset.index = i + 1; // 1~5 ìˆœë²ˆ ì €ì¥
            circle.addEventListener("click", handleGlowCircleClick);
            document.body.appendChild(circle);
        }
    }

function handleGlowCircleClick(event) {
    const circle = event.target;

    // ì´ë¯¸ í´ë¦­ëœ ì›ì´ë©´ ì¤‘ë³µ í´ë¦­ ë°©ì§€
    if (circle.classList.contains("clicked")) return;

    glowClickCount++;
    circle.classList.add("clicked");
    circle.style.backgroundColor = "cyan"; // í´ë¦­ ì‹œ ìƒ‰ìƒ ë³€ê²½

    // í´ë¦­ëœ ì›ì˜ ì¤‘ì•™ ì¢Œí‘œ ì €ì¥
    const rect = circle.getBoundingClientRect();
    clickedCircles.push({ x: rect.left + rect.width / 2, y: rect.top + rect.height / 2 });


    // 5ê°œ í´ë¦­í•˜ë©´ ë³„ ìƒì„±
    if (glowClickCount === totalGlowClicksNeeded) {
        drawStarEffect();
    }
}

function drawStarEffect() {
    if (clickedCircles.length < 5) {
        console.error("Not enough points to draw a star!");
        return;
    }

    const starCanvas = document.createElement("canvas");
    document.body.appendChild(starCanvas);
    const ctx = starCanvas.getContext("2d");

    // ìº”ë²„ìŠ¤ í¬ê¸° ì„¤ì •
    starCanvas.width = window.innerWidth;
    starCanvas.height = window.innerHeight;

    ctx.strokeStyle = "cyan";
    ctx.lineWidth = 15;

    // â­ í´ë¦­í•œ ì ë“¤ì„ ì¤‘ì‹¬ì„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•˜ì—¬ ë³„ ëª¨ì–‘ ìœ ì§€  
    const centerX = clickedCircles.reduce((sum, p) => sum + p.x, 0) / 5;
    const centerY = clickedCircles.reduce((sum, p) => sum + p.y, 0) / 5;

    // ì ë“¤ì„ ê°ë„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ (ë³„ ëª¨ì–‘ì„ ë§Œë“¤ê¸° ìœ„í•´)
    clickedCircles.sort((a, b) => {
        const angleA = Math.atan2(a.y - centerY, a.x - centerX);
        const angleB = Math.atan2(b.y - centerY, b.x - centerX);
        return angleA - angleB;
    });

    // â­ ë³„ ëª¨ì–‘ì„ ë§Œë“¤ê¸° ìœ„í•œ ì  ì—°ê²° ìˆœì„œ
    const starOrder = [0, 2, 4, 1, 3, 0]; // ë³„ì„ ê·¸ë¦¬ëŠ” ì •í•´ì§„ ìˆœì„œ

    // ë³„ ê·¸ë¦¬ê¸° (ê³ ì •ëœ íŒ¨í„´ìœ¼ë¡œ ì„  ì—°ê²°)
    ctx.beginPath();
    ctx.moveTo(clickedCircles[starOrder[0]].x, clickedCircles[starOrder[0]].y);
    for (let i = 1; i < starOrder.length; i++) {
        ctx.lineTo(clickedCircles[starOrder[i]].x, clickedCircles[starOrder[i]].y);
    }
    ctx.stroke();

    // ğŸŒŸ ë³„ì„ ê°ì‹¸ëŠ” ì› ê·¸ë¦¬ê¸° (ë³„ì„ ê·¸ë¦° í›„)
    drawCircleAroundStar(ctx, centerX, centerY);

    // âœ¨ ë°˜ì§ì´ëŠ” íš¨ê³¼
    setTimeout(() => {
        const glowEffect = document.createElement("div");
        glowEffect.classList.add("glow-effect");
        document.body.appendChild(glowEffect);

        setTimeout(() => {
            // â­ ê´€ë¦¬ì ë²„íŠ¼ í‘œì‹œ
            adminModeButton.style.display = "block";

            // â­ í´ë¦­ëœ glow-circle ìš”ì†Œ ì‚­ì œ
            document.querySelectorAll(".glow-circle").forEach(circle => circle.remove());

            // â­ ìº”ë²„ìŠ¤ & íš¨ê³¼ ì œê±°
            starCanvas.remove();
            glowEffect.remove();
        }, 2000);
    }, 1000);

    // í´ë¦­í•œ ì› ì¢Œí‘œ ì´ˆê¸°í™”
    clickedCircles = [];
}
// â­ ë³„ì„ ê°ì‹¸ëŠ” ì› ê·¸ë¦¬ê¸° í•¨ìˆ˜
function drawCircleAroundStar(ctx, centerX, centerY) {
    // ë°˜ì§€ë¦„ ê³„ì‚°: í´ë¦­í•œ ì ë“¤ê³¼ ì¤‘ì‹¬ ê°„ì˜ í‰ê·  ê±°ë¦¬
    const radius = clickedCircles.reduce((sum, p) => sum + Math.hypot(p.x - centerX, p.y - centerY), 0) / 5;

    setTimeout(() => {
        ctx.beginPath();
        ctx.arc(centerX, centerY, radius + 10, 0, 2 * Math.PI);
        ctx.stroke();
    }, 500);
}
    
    window.addEventListener("load", createCircles);
    window.addEventListener("resize", createCircles);
    });
    </script>    
</body>
</html>
